<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="conductoor-create-project-page" attributes="editMode">
  <template>
    <link rel="stylesheet" href="conductoor-create-project-page.css">
    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="../../styles/main.css">
    <!-- endbuild-->

    <core-scaffold id="core_scaffold">

      <!-- Toolbar: brand, links to pages, logout -->
      <core-toolbar fullbleed tool flex>
        <h1 horizontal flex><paper-input label="Project's name" value="{{projectName}}"></paper-input></h1>
        <core-menu-button>
            <core-icon-button icon="more-vert"></core-icon-button>
            <core-dropdown halign="right" class="dropdown" layered>
              <core-menu>
                  <paper-item noink><a href="#/list-projects">My Projects</a></paper-item>
                  <paper-item noink><a href="#/project">Current Projects</a></paper-item>
                  <paper-item noink><a href="#/help">Help</a></paper-item>
                  <paper-item noink><a href="#logout">Logout</a></paper-item>
              </core-menu>
            </core-dropdown>
        </core-menu-button>

      </core-toolbar>

      <!-- Left panel -->
      <core-header-panel mode="seamed" id="core_header_panel" class="left-panel" navigation flex>

        <core-toolbar tool>
          <span flex id="app-name">Conductoor</span>
        </core-toolbar>

        <h2 class="phases-title">Phases:</h2>
        <conductoor-added-phases editMode={{editMode}} projectName={{projectName}} phases={{phases}}></conductoor-added-phases>

      </core-header-panel>
      <!-- END Left panel -->

      <!-- Right panel -->
      <div fit vertical layout class="right-panel">
        <div style="margin-bottom:30px;">
          <conductoor-create-phase-form editMode={{editMode}} phases={{phases}}></conductoor-create-phase-form>
        </div>
      </div>
      <!-- END Right panel -->
      <conductoor-project-panel></conductoor-project-panel>
    </core-scaffold>

  </template>
  <script>
    (function () {
      Polymer({
        ready: function(){
          if(this.editMode){
            //populate phases and project name
            this.phases = this.phases || [];            //remove this
            this.projectName = this.projectName || "";  //remove this
          }
          else{
            this.phases = this.phases || [];
            this.projectName = this.projectName || "";
          }
        }
      });
    })();
  </script>
</polymer-element>
